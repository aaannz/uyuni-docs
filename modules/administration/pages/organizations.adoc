[[organizations]]
= Organizations


Organizations are used to manage user access and permissions within {productname}.

For most environments, a single organization is enough.
However, more complicated environments might need several organizations.
You might like to have an organization for each physical location within your business, or for different business functions.

When you have created your organizations, you can create and assign users to your organizations.
You can then assign permissions on an organization level, which applies by default to every user assigned to the organization.

You can also configure authentication methods for your new organization, including PAM and single sign-on.
For more information about authentication, see xref:modules/administration/pages/auth-methods.adoc[].

[NOTE]
====
You must be logged in as a {productname} administrator to create and manage organizations.
====



.Procedure: Creating a New Organization
. In the {productname} {webui}, navigate to menu:Admin[Organizations], and click btn:[Create Organization].
. In the [guimenu]``Create Organization`` dialog, complete these fields:
* In the [guimenu]``Organization Name`` field, type a name for your new organization.
The name should be between 3 and 128 characters long.
* In the [guimenu]``Desired Login`` field, type the login name you want to use for the organization's administrator.
This must be a new administrator account, you will not be able to use an existing administrator account to log in to the new organization, including the one you are currently logged in with.
* In the [guimenu]``Desired Password`` field, type a password for the new organization's administrator.
Confirm the password by typing it again in the [guimenu]``Confirm Password`` field.
Password strength is indicated by the coloured bar beneath the password fields.
* In the [guimenu]``Email`` field, type an email for the new organization's administrator.
* In the [guimenu]``First Name`` field, select a salutation, and type a given name for the new organization's administrator.
* In the [guimenu]``Last Name`` field, type a surname for the new organization's administrator.
. Click btn:[Create Organization].



== Manage Organizations

In the {productname} {webui}, navigate to menu:Admin[Organizations] to see a list of available organizations.
Click on the name of an organization to manage it.

From the menu:Admin[Organizations] section, you can access tabs to manage users, trusts, configuration, and states for your organization.

[NOTE]
====
Organizations can only be managed by their administrators.
To manage an organization, ensure you are logged in as the correct administrator for the organization you want to change.
====



=== Organization Users

Navigate to the [guimenu]``Users`` tab to view the list of all users associated with the organization, and their role.
Clicking on a username takes you to the [guimenu]``Users`` menu to add, change, or delete users.



=== Trusted Organizations

Navigate to the [guimenu]``Trusts`` tab to add or remove trusted organizations.
Establishing trust between organizations allow them to share content more easily between them, and gives you the ability to migrate clients from one organization to another.



=== Configuring Organizations

Navigate to the [guimenu]``Configuration`` tab to manage the configuration of your organization.
This includes the use of staged contents, setting up crash reporting, and the use of of SCAP files.


// I wonder if this should be a chapter all on its own? I'm not sure readers will think to look in organizations for this info. LKB 20200131


Staging is used by clients to download packages in advance, before they are installed.
This allows package installation to begin as soon as it is scheduled, which can reduce the amount of time required for a maintenance window.

Check the [guimenu]``Enable Staging Contents`` box to allow clients in this organization to stage package data.

You can also enable staging at the command prompt by editing [path]``/etc/sysconfig/rhn/up2date``, and adding or editing these lines:

----
stagingContent=1
stagingContentWindow=24
----

////
2018-12-10, ke: /etc/sysconfig/rhn/up2date still exists. @renner confirmed some tools use it
                (at least, trad. client).  To be renamed in the future.
////

The ``stagingContentWindow`` parameter is a time value expressed in hours and determines when downloading will start.
It is the number of hours before the scheduled installation or update time.
In this example, content will be downloaded 24 hours before the installation time.
The start time for download depends on the selected contact method for a system.
The assigned contact method sets the time for when the next [command]``mgr_check`` will be executed.

Next time an action is scheduled, packages are automatically downloaded, but not installed.
At the scheduled time, the staged packages are installed.

Every Organization administrator can enable Content Staging from the Organization configuration page menu:Admin[Organization > OrgName > Configuration > Enable Staging Contents].

Staging content for clients is affected by two parameters.

* [path]``salt_content_staging_advance:`` expresses the advance time, in hours, for the content staging window to open with regard to the scheduled installation/upgrade time.
* [path]``salt_content_staging_window:`` expresses the duration, in hours, of the time window for Salt clients to stage packages in advance of scheduled installations or upgrades.

A value of *salt_content_staging_advance* equal to *salt_content_staging_window* results in the content staging window closing exactly when the installation/upgrade is scheduled to be executed.
A larger value allows separating download time from the installation time.

These options are configured in [path]``/usr/share/rhn/config-defaults/rhn_java.conf``
 and by default assume the following values:

* [path]``salt_content_staging_advance: 8 hours``
* [path]``salt_content_staging_window: 8 hours``

[NOTE]
====
These parameters will only have an effect when Content Staging is enabled for the targeted Organization.
====



[[s2-sattools-org-details-states]]
== Organization Details > States

From the menu:Admin[Organizations > States] page you can assign State to all systems in an organization.
For example, this way it is possible to define a few global security policies or add a common admin user to all machines.

image::admin_organization_states.png[scaledwidth=80%]
